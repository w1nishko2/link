# üöÄ Production Deployment Checklist

## ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- [x] **–í—Ä–µ–º—è –∂–∏–∑–Ω–∏ —Å–µ—Å—Å–∏–π**: –ò–∑–º–µ–Ω–µ–Ω–æ —Å 365 –¥–Ω–µ–π –Ω–∞ 120 –º–∏–Ω—É—Ç
- [x] **–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Å—Å–∏–π**: –í–∫–ª—é—á–µ–Ω–æ (`SESSION_ENCRYPT=true`)
- [x] **Remember Me —Ç–æ–∫–µ–Ω—ã**: –ò–∑–º–µ–Ω–µ–Ω—ã —Å 365 –¥–Ω–µ–π –Ω–∞ 30 –¥–Ω–µ–π
- [x] **TrustHosts middleware**: –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç Host Header –∞—Ç–∞–∫
- [x] **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–µ–π**: –î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞—â–∏—Ç–∞ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏
- [x] **HTTPS –ø—Ä–∏–Ω—É–∂–¥–µ–Ω–∏–µ**: –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
- [x] **Exception Handler**: –£–ª—É—á—à–µ–Ω –¥–ª—è —Å–∫—Ä—ã—Ç–∏—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

## ‚úÖ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- [x] **Redis –¥–ª—è –∫–µ—à–∞**: –ù–∞—Å—Ç—Ä–æ–µ–Ω –≤–º–µ—Å—Ç–æ —Ñ–∞–π–ª–æ–≤–æ–≥–æ –∫–µ—à–∞
- [x] **Redis –¥–ª—è –æ—á–µ—Ä–µ–¥–µ–π**: –ù–∞—Å—Ç—Ä–æ–µ–Ω –≤–º–µ—Å—Ç–æ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ—á–µ—Ä–µ–¥–µ–π
- [x] **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ –Ω–∞ —É—Ä–æ–≤–µ–Ω—å ERROR –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

## ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ Backup

- [x] **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π backup –ë–î**: –ö–æ–º–∞–Ω–¥–∞ —Å–æ–∑–¥–∞–Ω–∞ –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ cron (–µ–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 2:00)
- [x] **–û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö backup'–æ–≤**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ —Å—Ç–∞—Ä—à–µ 7 –¥–Ω–µ–π
- [x] **–£–ª—É—á—à–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫**: –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

## üìã –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Redis
sudo apt-get install redis-server

# –ó–∞–ø—É—Å—Ç–∏—Ç—å Redis
sudo systemctl start redis
sudo systemctl enable redis

# –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ –ø–∞–ø–∫–∏
sudo chown -R www-data:www-data storage/
sudo chown -R www-data:www-data bootstrap/cache/
sudo chmod -R 755 storage/
sudo chmod -R 755 bootstrap/cache/
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ .env —Ñ–∞–π–ª–∞
```bash
# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å
cp .env.example .env

# –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å:
APP_ENV=production
APP_DEBUG=false
APP_URL=https://yourdomain.com
LOG_LEVEL=error
CACHE_DRIVER=redis
QUEUE_CONNECTION=redis
SESSION_LIFETIME=120
SESSION_ENCRYPT=true

# –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–ª—é—á –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
php artisan key:generate
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ cron –¥–ª—è –∑–∞–¥–∞—á
```bash
# –î–æ–±–∞–≤–∏—Ç—å –≤ crontab
* * * * * cd /path-to-your-project && php artisan schedule:run >> /dev/null 2>&1
```

### 4. –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –¥–µ–ø–ª–æ—è
```bash
# –û—á–∏—Å—Ç–∫–∞ –∫–µ—à–µ–π
php artisan config:clear
php artisan cache:clear
php artisan route:clear
php artisan view:clear

# –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
php artisan config:cache
php artisan route:cache
php artisan view:cache

# –ú–∏–≥—Ä–∞—Ü–∏–∏
php artisan migrate --force

# –ó–∞–ø—É—Å–∫ queue worker
php artisan queue:work redis --daemon
```

### 5. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞ (Nginx –ø—Ä–∏–º–µ—Ä)
```nginx
server {
    listen 80;
    server_name yourdomain.com;
    return 301 https://$server_name$request_uri;
}

server {
    listen 443 ssl http2;
    server_name yourdomain.com;
    
    ssl_certificate /path/to/certificate.crt;
    ssl_certificate_key /path/to/private.key;
    
    root /path/to/your/project/public;
    index index.php;
    
    location / {
        try_files $uri $uri/ /index.php?$query_string;
    }
    
    location ~ \.php$ {
        fastcgi_pass unix:/var/run/php/php8.1-fpm.sock;
        fastcgi_index index.php;
        fastcgi_param SCRIPT_FILENAME $realpath_root$fastcgi_script_name;
        include fastcgi_params;
    }
}
```

## üîç –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–¥–∏—Ä–µ–∫—Ç —Å HTTP –Ω–∞ HTTPS
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –æ—á–µ—Ä–µ–¥–µ–π: `php artisan queue:work`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ backup: `php artisan db:backup`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏: `tail -f storage/logs/laravel-*.log`

## üö® –í —Å–ª—É—á–∞–µ –ø—Ä–æ–±–ª–µ–º

### –û—Ç–∫–∞—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (–¢–û–õ–¨–ö–û –í –ö–†–ê–ô–ù–ï–ú –°–õ–£–ß–ê–ï)
```bash
# –í—Ä–µ–º–µ–Ω–Ω–æ —É–≤–µ–ª–∏—á–∏—Ç—å –≤—Ä–µ–º—è —Å–µ—Å—Å–∏–π (–ù–ï –†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)
SESSION_LIFETIME=1440  # 24 —á–∞—Å–∞ –≤–º–µ—Å—Ç–æ 120 –º–∏–Ω—É—Ç

# –û—Ç–∫–ª—é—á–∏—Ç—å —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Å—Å–∏–π (–ù–ï –†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)
SESSION_ENCRYPT=false
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
```bash
# Redis
redis-cli ping

# PHP-FPM
sudo systemctl status php8.1-fpm

# Nginx
sudo systemctl status nginx

# –û—á–µ—Ä–µ–¥–∏ Laravel
ps aux | grep "queue:work"
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–î–æ–±–∞–≤–∏—Ç—å –≤ —Å–∏—Å—Ç–µ–º—É –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Redis
- –†–∞–∑–º–µ—Ä backup —Ñ–∞–π–ª–æ–≤
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫ –≤ –ª–æ–≥–∞—Ö
- –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ —Å–µ—Ä–≤–µ—Ä–∞
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–æ–≤–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞

---

**‚ö†Ô∏è –í–∞–∂–Ω–æ**: –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É –ø—Ä–∏ —É—Å–ª–æ–≤–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –≤—ã—à–µ —à–∞–≥–æ–≤.