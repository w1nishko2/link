(function(){let e=null,n=null,d=!1;function t(){if(!d){if(e=document.getElementById("mobileAdminSidebar"),n=document.querySelector(".mobile-sidebar-overlay"),!e||!n){console.warn("Mobile navigation elements not found");return}a(),c(),m(),d=!0,console.log("Mobile navigation initialized")}}function a(){(window.innerWidth>=768||window.innerWidth<768&&(!e||!e.classList.contains("show")))&&(document.body.style.overflow="",document.body.classList.remove("mobile-sidebar-open"))}function l(){if(!e||!n){console.warn("Mobile navigation not initialized");return}e.classList.contains("show")?i():s()}function s(){if(!e||!n)return;e.classList.add("show"),n.classList.add("show"),document.body.classList.add("mobile-sidebar-open"),document.body.style.overflow="hidden";const o=e.querySelector(".mobile-menu-btn");o&&setTimeout(()=>o.focus(),100)}function i(){!e||!n||(e.classList.remove("show"),n.classList.remove("show"),document.body.classList.remove("mobile-sidebar-open"),document.body.style.overflow="")}function c(){window.addEventListener("resize",r),document.addEventListener("keydown",u),b(),e.addEventListener("click",function(o){o.stopPropagation()})}function r(){window.innerWidth>=768&&(i(),document.body.style.overflow="",document.body.classList.remove("mobile-sidebar-open"))}function u(o){o.key==="Escape"&&e&&e.classList.contains("show")&&i()}function b(){if(!e)return;e.querySelectorAll(".nav-link").forEach(w=>{w.addEventListener("click",function(){window.innerWidth<768&&setTimeout(i,150)})})}function m(){if(/iPad|iPhone|iPod/.test(navigator.userAgent)){const o=document.querySelector("meta[name=viewport]");o&&o.setAttribute("content","width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no")}"ontouchstart"in window&&document.body.addEventListener("touchstart",function(){},{passive:!0})}function f(){return e&&e.classList.contains("show")}window.MobileNavigation={init:t,toggle:l,open:s,close:i,isOpen:f},window.toggleMobileSidebar=l,window.closeMobileSidebar=i,window.openMobileSidebar=s,document.readyState==="loading"?document.addEventListener("DOMContentLoaded",t):t(),typeof window.addEventListener=="function"&&window.addEventListener("load",function(){setTimeout(t,100),setTimeout(function(){document.body.style.overflow="",document.body.classList.remove("mobile-sidebar-open"),document.body.classList.contains("owner-mode")&&(document.body.style.overflow="",document.body.style.position="",document.body.style.width="")},500)})})();
