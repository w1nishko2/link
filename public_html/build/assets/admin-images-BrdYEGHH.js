function s(t="image-input"){const r=document.getElementById(t);r?r.click():console.warn("File input not found with ID:",t)}function u(t,r="image-preview-container",e=null){const i=t.target.files[0];if(!i)return;if(!i.type.startsWith("image/")){alert("Пожалуйста, выберите файл изображения"),t.target.value="";return}const o=10*1024*1024;if(i.size>o){alert("Размер файла не должен превышать 10MB"),t.target.value="";return}const n=new FileReader;n.onload=function(c){const l=document.getElementById(r);if(l){const m=l.querySelector("img");if(m)m.src=c.target.result;else{const a=document.createElement("img");a.src=c.target.result,a.style.width="100%",a.style.height="100%",a.style.objectFit="cover",a.style.borderRadius="12px",l.appendChild(a)}const g=l.querySelector(".no-image, .image-no-image");g&&(g.style.display="none")}e&&typeof e=="function"&&e(i,c.target.result)},n.readAsDataURL(i)}function d(t,r){const e=document.getElementById(r);if(!e){console.warn("Preview container not found with ID:",r);return}const i=e.querySelector("img");if(i)i.src=t;else{const n=document.createElement("img");n.src=t,n.style.width="100%",n.style.height="100%",n.style.objectFit="cover",n.style.borderRadius="12px",e.appendChild(n)}const o=e.querySelector(".no-image, .image-no-image");o&&(o.style.display="none")}function f(t,r="image-input"){const e=document.getElementById(t),i=document.getElementById(r);if(e){const o=e.querySelector("img");o&&o.remove();const n=e.querySelector(".no-image, .image-no-image");n&&(n.style.display="flex")}i&&(i.value="")}function y(t,r={}){const{maxSize:e=10*1024*1024,allowedTypes:i=["image/jpeg","image/png","image/gif","image/webp"],minWidth:o=0,minHeight:n=0,maxWidth:c=1/0,maxHeight:l=1/0}=r;return i.includes(t.type)?t.size>e?(alert(`Размер файла не должен превышать ${Math.round(e/1024/1024)}MB`),!1):!0:(alert("Допустимые форматы: "+i.join(", ")),!1)}window.triggerFileInput=s;window.handleImageSelect=u;window.createImagePreview=d;window.removeImage=f;window.validateImage=y;
