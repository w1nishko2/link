/* Ð¡Ñ‚Ð¸Ð»Ð¸ Ð´Ð»Ñ Ð¼Ð¸Ð½Ð¸Ñ€ÐµÐ´Ð°ÐºÑ‚Ð¾Ñ€Ð° Ñ„Ð¾Ñ‚Ð¾Ð³Ñ€Ð°Ñ„Ð¸Ð¹ */

/* Ð‘Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²ÐºÐ° ÑÐºÑ€Ð¾Ð»Ð»Ð° ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ñ‹ Ð¿Ñ€Ð¸ Ð¾Ñ‚ÐºÑ€Ñ‹Ñ‚Ð¾Ð¼ Ð¼Ð¾Ð´Ð°Ð»ÑŒÐ½Ð¾Ð¼ Ð¾ÐºÐ½Ðµ Ñ„Ð¾Ñ‚Ð¾Ñ€ÐµÐ´Ð°ÐºÑ‚Ð¾Ñ€Ð° */
body.modal-open {
    overflow: hidden !important;
}

/* ÐšÐ¾Ð¼Ð¿ÐµÐ½ÑÐ°Ñ†Ð¸Ñ Ð¸ÑÑ‡ÐµÐ·Ð½Ð¾Ð²ÐµÐ½Ð¸Ñ ÑÐºÑ€Ð¾Ð»Ð»Ð±Ð°Ñ€Ð° Ð½Ð° Ð´ÐµÑÐºÑ‚Ð¾Ð¿Ðµ */
@media (min-width: 768px) {
    body.modal-open {
        padding-right: 17px;
    }
}

/* ÐÐ° Ð¼Ð¾Ð±Ð¸Ð»ÑŒÐ½Ñ‹Ñ… ÑƒÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð²Ð°Ñ… ÐÐ• Ð±Ð»Ð¾ÐºÐ¸Ñ€ÑƒÐµÐ¼ ÑÐºÑ€Ð¾Ð»Ð» Ð¼Ð¾Ð´Ð°Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ð¾ÐºÐ½Ð° */
@media (max-width: 767.98px) {
    body.modal-open {
        /* Ð£Ð±Ð¸Ñ€Ð°ÐµÐ¼ Ñ„Ð¸ÐºÑÐ°Ñ†Ð¸ÑŽ Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¸ - Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÐµÐ¼ Ð¼Ð¾Ð´Ð°Ð»ÑŒÐ½Ð¾Ð¼Ñƒ Ð¾ÐºÐ½Ñƒ ÑÐºÑ€Ð¾Ð»Ð»Ð¸Ñ‚ÑŒÑÑ */
        overflow: hidden; /* Ð‘Ð»Ð¾ÐºÐ¸Ñ€ÑƒÐµÐ¼ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ ÑÐºÑ€Ð¾Ð»Ð» Ð¾ÑÐ½Ð¾Ð²Ð½Ð¾Ð¹ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ñ‹ */
        -webkit-overflow-scrolling: auto; /* ÐžÑ‚ÐºÐ»ÑŽÑ‡Ð°ÐµÐ¼ touch scrolling Ð´Ð»Ñ body */
    }
}

/* ÐžÑÐ½Ð¾Ð²Ð½Ñ‹Ðµ Ð¼Ð¾Ð´Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ð¾ÐºÐ½Ð° */
.photo-editor-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.9);
    display: none;
    z-index: 10000;
    overflow-y: auto !important; /* ÐŸÑ€Ð¸Ð½ÑƒÐ´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ Ð²ÐºÐ»ÑŽÑ‡Ð°ÐµÐ¼ Ð²ÐµÑ€Ñ‚Ð¸ÐºÐ°Ð»ÑŒÐ½Ñ‹Ð¹ ÑÐºÑ€Ð¾Ð»Ð» */
    overflow-x: hidden; /* Ð¡ÐºÑ€Ñ‹Ð²Ð°ÐµÐ¼ Ð³Ð¾Ñ€Ð¸Ð·Ð¾Ð½Ñ‚Ð°Ð»ÑŒÐ½Ñ‹Ð¹ ÑÐºÑ€Ð¾Ð»Ð» */
    -webkit-overflow-scrolling: touch; /* ÐŸÐ»Ð°Ð²Ð½Ñ‹Ð¹ ÑÐºÑ€Ð¾Ð»Ð» Ð½Ð° iOS */
    /* Ð Ð°Ð·Ñ€ÐµÑˆÐ°ÐµÐ¼ ÑÐ²Ð¾Ð±Ð¾Ð´Ð½Ñ‹Ð¹ ÑÐºÑ€Ð¾Ð»Ð» */
    overscroll-behavior: contain; /* ÐŸÑ€ÐµÐ´Ð¾Ñ‚Ð²Ñ€Ð°Ñ‰Ð°ÐµÐ¼ Ð¿Ñ€Ð¾ÐºÑ€ÑƒÑ‚ÐºÑƒ Ñ€Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒÑÐºÐ¾Ð³Ð¾ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð° */
    /* Ð”Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð°Ñ Ð·Ð°Ñ‰Ð¸Ñ‚Ð° Ð¾Ñ‚ Ð±Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²ÐºÐ¸ touch ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ð¹ ÐºÐ¾Ð³Ð´Ð° ÑÐºÑ€Ñ‹Ñ‚Ð¾ */
    pointer-events: none;
    /* Ð£Ð»ÑƒÑ‡ÑˆÐµÐ½Ð¸Ñ Ð´Ð»Ñ Ð¼Ð¾Ð±Ð¸Ð»ÑŒÐ½Ñ‹Ñ… ÑƒÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð² */
    scroll-behavior: smooth;
}

.photo-editor-modal.show {
    display: flex;
    justify-content: center;
    align-items: flex-start; /* Ð˜Ð·Ð¼ÐµÐ½ÐµÐ½Ð¾ Ñ center Ð½Ð° flex-start */
    padding: 20px 0; /* Ð”Ð¾Ð±Ð°Ð²Ð»ÑÐµÐ¼ Ð¾Ñ‚ÑÑ‚ÑƒÐ¿Ñ‹ ÑÐ²ÐµÑ€Ñ…Ñƒ Ð¸ ÑÐ½Ð¸Ð·Ñƒ */
    /* Ð’ÐºÐ»ÑŽÑ‡Ð°ÐµÐ¼ pointer-events Ñ‚Ð¾Ð»ÑŒÐºÐ¾ ÐºÐ¾Ð³Ð´Ð° Ð¼Ð¾Ð´Ð°Ð»ÑŒÐ½Ð¾Ðµ Ð¾ÐºÐ½Ð¾ Ð¿Ð¾ÐºÐ°Ð·Ð°Ð½Ð¾ */
    pointer-events: auto;
}

.photo-editor-content {
    width: 95vw;
    height: auto; /* Ð˜Ð·Ð¼ÐµÐ½ÐµÐ½Ð¾ Ñ 95vh Ð½Ð° auto */
    min-height: calc(100vh - 40px); /* ÐœÐ¸Ð½Ð¸Ð¼Ð°Ð»ÑŒÐ½Ð°Ñ Ð²Ñ‹ÑÐ¾Ñ‚Ð° Ñ ÑƒÑ‡ÐµÑ‚Ð¾Ð¼ padding */
    max-height: none; /* Ð£Ð±Ð¸Ñ€Ð°ÐµÐ¼ Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ Ð¿Ð¾ Ð²Ñ‹ÑÐ¾Ñ‚Ðµ */
    background: #fff;
    border-radius: 12px;
    display: flex;
    flex-direction: column;
    position: relative;
    max-width: 1400px; /* Ð£Ð²ÐµÐ»Ð¸Ñ‡ÐµÐ½Ð¾ Ñ 1200px */
    margin: 0 auto; /* Ð¦ÐµÐ½Ñ‚Ñ€Ð¸Ñ€ÑƒÐµÐ¼ Ð³Ð¾Ñ€Ð¸Ð·Ð¾Ð½Ñ‚Ð°Ð»ÑŒÐ½Ð¾ */
}

/* Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº Ñ€ÐµÐ´Ð°ÐºÑ‚Ð¾Ñ€Ð° */
.photo-editor-header {
    padding: 20px;
    border-bottom: 1px solid #e0e0e0;
    display: flex;
    justify-content: flex-end;
    align-items: center;
    background: #f8f9fa;
    border-radius: 12px 12px 0 0;
}

.photo-editor-title {
    margin: 0;
    font-size: 1.5rem;
    color: #333;
}

.photo-editor-close {
    position: absolute;
    top: 7px;
    right: 10px;
    background: none;
    border: none;
    font-size: 1.5rem;
    cursor: pointer;
    color: #666;
    padding: 8px;
    border-radius: 50%;
    transition: all 0.2s;
    z-index: 1000;
    width: 36px;
    height: 36px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.photo-editor-close:hover {
    background-color: #e9ecef;
    color: #333;
    transform: scale(1.1);
}

/* Ð¨Ð°Ð³Ð¸ Ñ€ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ Ð´Ð»Ñ hero Ñ„Ð¾Ð½Ð° */
.photo-editor-steps {
    padding: 15px 20px;
    background: #f8f9fa;
    border-bottom: 1px solid #e0e0e0;
    display: flex;
    justify-content: center;
    gap: 20px;
}

.step-indicator {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 8px 16px;
    border-radius: 20px;
    background: #e9ecef;
    color: #6c757d;
    font-weight: 500;
    transition: all 0.3s;
}

.step-indicator.active {
    background: #2A5885;
    color: white;
}

.step-indicator .step-number {
    width: 24px;
    height: 24px;
    border-radius: 50%;
    background: #6c757d;
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.875rem;
    font-weight: bold;
}

.step-indicator.active .step-number {
    background: white;
    color: #2A5885;
}

/* ÐžÑÐ½Ð¾Ð²Ð½Ð°Ñ Ð¾Ð±Ð»Ð°ÑÑ‚ÑŒ Ñ€ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ */
.photo-editor-body {
    flex: 1;
    display: flex;
    padding: 20px;
    gap: 20px;
    overflow: visible; /* Ð˜Ð·Ð¼ÐµÐ½ÐµÐ½Ð¾ Ñ hidden Ð½Ð° visible */
    min-height: 0; /* Ð”Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¾ Ð´Ð»Ñ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾Ð³Ð¾ flex-Ñ€Ð°ÑÑ‡ÐµÑ‚Ð° */
}

/* ÐŸÐ°Ð½ÐµÐ»ÑŒ Ð¸Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚Ð¾Ð² */
.editor-toolbar {
    width: 250px;
    background: #f8f9fa;
    border-radius: 8px;
    padding: 20px;
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.toolbar-section {
    border-bottom: 1px solid #e0e0e0;
    padding-bottom: 15px;
}

.toolbar-section:last-child {
    border-bottom: none;
    padding-bottom: 0;
}

.toolbar-title {
    font-weight: 600;
    margin-bottom: 10px;
    color: #333;
}

.file-input-wrapper {
    position: relative;
    overflow: hidden;
    display: inline-block;
    width: 100%;
}

.file-input {
    position: absolute;
    left: -9999px;
}

.file-input-button {
    display: flex;
    width: 100%;
    padding: 10px 15px;
    background: #2A5885;
    color: white;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    text-align: center;
    font-weight: 500;
    transition: background-color 0.2s;
    align-items: center;
    justify-content: center;
    align-content: center;
}

.file-input-button:hover {
    background: #1d3f5f;
}

/* ÐšÐ½Ð¾Ð¿ÐºÐ¸ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ð¹ */
.action-buttons {
    display: flex;
    flex-direction: row;
    gap: 10px;
    justify-content: flex-end;
    flex-wrap: wrap;
}

.action-button {
    padding: 10px 15px;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-weight: 500;
    transition: all 0.2s;
}

.action-button.primary {
    background: #28a745;
    color: white;
}

.action-button.primary:hover {
    background: #1e7e34;
}

.action-button.secondary {
    background: #6c757d;
    color: white;
}

.action-button.secondary:hover {
    background: #545b62;
}

.action-button:disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

/* ÐžÐ±Ð»Ð°ÑÑ‚ÑŒ Ð¿Ñ€ÐµÐ´Ð²Ð°Ñ€Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾Ð³Ð¾ Ð¿Ñ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€Ð° */
.editor-canvas-area {
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    background: #f0f0f0;
    border-radius: 8px;
    position: relative;
    overflow: auto; /* ÐŸÐ¾Ð·Ð²Ð¾Ð»ÑÐµÐ¼ ÑÐºÑ€Ð¾Ð»Ð» Ð´Ð»Ñ Ð±Ð¾Ð»ÑŒÑˆÐ¸Ñ… ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð¾Ð² */
    min-height: 400px;
}

/* ÐšÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ð° */
.format-container {
    position: relative;
    background: white;
    border: 2px dashed #ccc;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden !important; /* ÐšÐ Ð˜Ð¢Ð˜Ð§ÐÐž: Ð¾Ð±Ñ€ÐµÐ·ÐºÐ° Ð¸Ð·Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ Ð¿Ð¾ Ð³Ñ€Ð°Ð½Ð¸Ñ†Ð°Ð¼ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð° */
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    /* Touch Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡Ð°ÐµÐ¼ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ ÐºÐ¾Ð³Ð´Ð° ÐµÑÑ‚ÑŒ Ð¸Ð·Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ðµ */
    user-select: none;
    -webkit-user-select: none;
    /* Ð¢Ð¾Ñ‡Ð½Ñ‹Ðµ Ñ€Ð°Ð·Ð¼ÐµÑ€Ñ‹ Ð±ÐµÐ· Ð´Ñ€Ð¾Ð±Ð½Ñ‹Ñ… Ð¿Ð¸ÐºÑÐµÐ»ÐµÐ¹ */
    box-sizing: border-box;
    /* Ð£Ð±Ð¸Ñ€Ð°ÐµÐ¼ Ð¾Ð±Ñ‰Ð¸Ðµ Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ñ - Ð¾Ð½Ð¸ Ð±ÑƒÐ´ÑƒÑ‚ Ð·Ð°Ð´Ð°Ð²Ð°Ñ‚ÑŒÑÑ Ð´Ð»Ñ ÐºÐ°Ð¶Ð´Ð¾Ð³Ð¾ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ð° Ð¾Ñ‚Ð´ÐµÐ»ÑŒÐ½Ð¾ */
}

/* ÐžÐ³Ñ€Ð°Ð½Ð¸Ñ‡Ð¸Ð²Ð°ÐµÐ¼ touch Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð²Ð½ÑƒÑ‚Ñ€Ð¸ Ð¾Ð±Ð»Ð°ÑÑ‚Ð¸ Ð¸Ð·Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ */
.format-container.has-image {
    touch-action: pan-x pan-y; /* Ð Ð°Ð·Ñ€ÐµÑˆÐ°ÐµÐ¼ ÑÐºÑ€Ð¾Ð»Ð», Ð½Ð¾ Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡Ð¸Ð²Ð°ÐµÐ¼ Ð´Ñ€ÑƒÐ³Ð¸Ðµ Ð¶ÐµÑÑ‚Ñ‹ */
}

/* Ð Ð°Ð·Ð»Ð¸Ñ‡Ð½Ñ‹Ðµ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ñ‹ - Ñ‚Ð¾Ñ‡Ð½Ñ‹Ðµ Ð¿Ñ€Ð¾Ð¿Ð¾Ñ€Ñ†Ð¸Ð¸ Ð´Ð»Ñ ÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ð¾Ð³Ð¾ Ð¿Ñ€ÐµÐ´Ð²Ð°Ñ€Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾Ð³Ð¾ Ð¿Ñ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€Ð° */
.format-container.reel {
    width: 405px; /* 405x720 = 9:16 Ñ‚Ð¾Ñ‡Ð½Ñ‹Ðµ Ð¿Ñ€Ð¾Ð¿Ð¾Ñ€Ñ†Ð¸Ð¸ (45*9 x 45*16) */
    height: 720px;
    aspect-ratio: 9 / 16;
    flex-shrink: 0;
}

.format-container.desktop {
    width: 640px; /* 640x360 = 16:9 Ñ‚Ð¾Ñ‡Ð½Ñ‹Ðµ Ð¿Ñ€Ð¾Ð¿Ð¾Ñ€Ñ†Ð¸Ð¸ (40*16 x 40*9) */
    height: 360px;
    max-width: min(80vw, 640px);
    max-height: min(60vh, 360px);
    aspect-ratio: 16 / 9;
}

.format-container.square {
    width: 480px; /* 480x480 = 1:1 Ñ‚Ð¾Ñ‡Ð½Ñ‹Ðµ Ð¿Ñ€Ð¾Ð¿Ð¾Ñ€Ñ†Ð¸Ð¸ */
    height: 480px;
    max-width: min(60vw, 480px);
    max-height: min(60vh, 480px);
    aspect-ratio: 1 / 1;
}

.format-container.has-image {
    border: 2px solid #2A5885;
}

/* Ð ÐµÐ·ÐµÑ€Ð²Ð½Ñ‹Ðµ Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð° Ð´Ð»Ñ Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€Ð¾Ð² Ð±ÐµÐ· Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ¸ aspect-ratio */
@supports not (aspect-ratio: 1) {
    .format-container.reel {
        /* Ð•ÑÐ»Ð¸ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€ ÑÐ»Ð¸ÑˆÐºÐ¾Ð¼ ÑˆÐ¸Ñ€Ð¾ÐºÐ¸Ð¹ Ð´Ð»Ñ ÑÐºÑ€Ð°Ð½Ð°, Ð¼Ð°ÑÑˆÑ‚Ð°Ð±Ð¸Ñ€ÑƒÐµÐ¼ Ð¿Ð¾ Ð²Ñ‹ÑÐ¾Ñ‚Ðµ */
        width: auto;
        height: 60vh;
        max-width: calc(60vh * 9 / 16);
    }
    
    .format-container.desktop {
        /* Ð”Ð»Ñ ÑÑ‚Ð°Ñ€Ñ‹Ñ… Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€Ð¾Ð² Ð¾ÑÑ‚Ð°Ð²Ð»ÑÐµÐ¼ Ñ„Ð¸ÐºÑÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ðµ Ñ€Ð°Ð·Ð¼ÐµÑ€Ñ‹ */
        width: 800px;
        height: 450px;
    }
    
    .format-container.square {
        width: 50vw;
        height: 50vw;
        max-width: 60vh;
        max-height: 60vh;
    }
}

/* Ð¡Ð¿ÐµÑ†Ð¸Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð° Ð´Ð»Ñ Ð¾Ñ‚ÐºÑ€Ñ‹Ñ‚Ð¾Ð³Ð¾ Ð¼Ð¾Ð´Ð°Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ð¾ÐºÐ½Ð° */
.photo-editor-modal.show .format-container.reel {
    /* Ð£Ð±ÐµÐ¶Ð´Ð°ÐµÐ¼ÑÑ, Ñ‡Ñ‚Ð¾ Ñ€Ð¸Ð»Ñ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€ Ð½Ðµ Ð¸ÑÐºÐ°Ð¶Ð°ÐµÑ‚ÑÑ Ð² Ð¾Ñ‚ÐºÑ€Ñ‹Ñ‚Ð¾Ð¼ Ð¼Ð¾Ð´Ð°Ð»ÑŒÐ½Ð¾Ð¼ Ð¾ÐºÐ½Ðµ */
    width: 405px !important;
    height: 720px !important;
    /* Ð•ÑÐ»Ð¸ Ð½Ðµ Ð¿Ð¾Ð¼ÐµÑ‰Ð°ÐµÑ‚ÑÑ Ð½Ð° ÑÐºÑ€Ð°Ð½Ðµ, Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼ transform Ð´Ð»Ñ Ð¼Ð°ÑÑˆÑ‚Ð°Ð±Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ */
    transform-origin: center;
}

@media (max-height: 900px) {
    .photo-editor-modal.show .format-container.reel {
        /* ÐÐ° ÑÐºÑ€Ð°Ð½Ð°Ñ… Ñ Ð¼Ð°Ð»ÐµÐ½ÑŒÐºÐ¾Ð¹ Ð²Ñ‹ÑÐ¾Ñ‚Ð¾Ð¹ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼ zoom */
        zoom: 0.75; /* 720px â†’ 540px */
    }
}

@media (max-height: 700px) {
    .photo-editor-modal.show .format-container.reel {
        /* ÐÐ° Ð¾Ñ‡ÐµÐ½ÑŒ Ð¼Ð°Ð»ÐµÐ½ÑŒÐºÐ¸Ñ… ÑÐºÑ€Ð°Ð½Ð°Ñ… ÐµÑ‰Ðµ Ð±Ð¾Ð»ÑŒÑˆÐµ ÑƒÐ¼ÐµÐ½ÑŒÑˆÐ°ÐµÐ¼ */
        zoom: 0.75; /* 720px â†’ 418px */
    }
}

@media (max-width: 600px) {
    /* ÐŸÐµÑ€ÐµÐ¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÑÐµÐ¼ zoom Ð´Ð»Ñ Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½Ð¾Ð² - Ð¿Ñ€Ð¸Ð¾Ñ€Ð¸Ñ‚ÐµÑ‚ Ð½Ð°Ð´ Ð±Ð°Ð·Ð¾Ð²Ñ‹Ð¼ 768px Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð¾Ð¼ */
    .format-container.reel {
        zoom: 0.75 !important; /* 405px â†’ 259px, 720px â†’ 461px */
    }
}

@media (max-width: 480px) {
    .format-container.reel {
        zoom: 0.75 !important; /* 405px â†’ 239px, 720px â†’ 425px */
    }
    
    .format-container.desktop {
        zoom: 0.7 !important; /* 640px â†’ 448px, 360px â†’ 252px */
    }
    
    .format-container.square {
        zoom: 0.83 !important; /* 480px â†’ 398px, 480px â†’ 398px */
    }
}

@media (max-width: 400px) {
    .format-container.reel {
        zoom: 0.75 !important; /* 405px â†’ 215px, 720px â†’ 382px */
    }
    
    .format-container.desktop {
        zoom: 0.55 !important; /* 640px â†’ 352px, 360px â†’ 198px */
    }
    
    .format-container.square {
        zoom: 0.73 !important; /* 480px â†’ 350px, 480px â†’ 350px */
    }
}

@media (max-width: 360px) {
    .format-container.reel {
        zoom: 0.75 !important; /* 405px â†’ 190px, 720px â†’ 338px */
    }
    
    .format-container.desktop {
        zoom: 0.5 !important; /* 640px â†’ 320px, 360px â†’ 180px */
    }
    
    .format-container.square {
        zoom: 0.625 !important; /* 480px â†’ 300px, 480px â†’ 300px */
    }
}

/* Ð˜Ð·Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ðµ Ð² Ñ€ÐµÐ´Ð°ÐºÑ‚Ð¾Ñ€Ðµ */
.editor-image {
    position: absolute;
    cursor: move;
    user-select: none;
    transform-origin: center center;
    transition: none;
    /* Ð£Ð»ÑƒÑ‡ÑˆÐµÐ½Ð¸Ñ Ð´Ð»Ñ touch ÑƒÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð² */
    -webkit-user-drag: none;
    -webkit-touch-callout: none;
    -webkit-tap-highlight-color: transparent;
    /* ÐšÐ Ð˜Ð¢Ð˜Ð§ÐÐž: ÑƒÐ±Ð¸Ñ€Ð°ÐµÐ¼ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚ÑŒ Ð²Ñ‹Ñ…Ð¾Ð´Ð¸Ñ‚ÑŒ Ð·Ð° Ð³Ñ€Ð°Ð½Ð¸Ñ†Ñ‹ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð° */
    max-width: none;
    max-height: none;
}

.editor-image.dragging {
    cursor: grabbing;
}

/* ÐšÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ñ‹ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ Ñ€Ð°Ð·Ð¼ÐµÑ€Ð° */
.resize-handles {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
}

.resize-handle {
    position: absolute;
    width: 12px;
    height: 12px;
    background: #2A5885;
    border: 2px solid white;
    border-radius: 50%;
    cursor: pointer;
    pointer-events: all;
    transform: translate(-50%, -50%);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

.resize-handle.nw { top: 0; left: 0; cursor: nw-resize; }
.resize-handle.ne { top: 0; right: 0; cursor: ne-resize; }
.resize-handle.sw { bottom: 0; left: 0; cursor: sw-resize; }
.resize-handle.se { bottom: 0; right: 0; cursor: se-resize; }

/* ÐŸÐ¾Ð´ÑÐºÐ°Ð·ÐºÐ¸ */
.editor-hint {
    position: absolute;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(0, 0, 0, 0.8);
    color: white;
    padding: 10px 15px;
    border-radius: 20px;
    font-size: 0.875rem;
    pointer-events: none;
    z-index: 10;
}

/* Ð—Ð°Ð³Ñ€ÑƒÐ·Ñ‡Ð¸Ðº */
.editor-loader {
    display: none;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: rgba(255, 255, 255, 0.9);
    padding: 20px;
    border-radius: 8px;
    text-align: center;
    z-index: 100;
}

.editor-loader.show {
    display: block;
}

.loader-spinner {
    width: 40px;
    height: 40px;
    border: 4px solid #f3f3f3;
    border-top: 4px solid #2A5885;
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin: 0 auto 10px;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* ÐÐ´Ð°Ð¿Ñ‚Ð¸Ð²Ð½Ð¾ÑÑ‚ÑŒ Ð´Ð»Ñ Ð¼Ð¾Ð±Ð¸Ð»ÑŒÐ½Ñ‹Ñ… ÑƒÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð² */
@media (max-width: 768px) {
    .photo-editor-content {
        width: calc(100vw - 20px);
        min-height: auto; /* Ð˜Ð·Ð¼ÐµÐ½ÐµÐ½Ð¾ Ñ calc(100vh - 20px) */
        height: auto;
        border-radius: 8px;
        max-width: none;
        max-height: none;
        /* Ð£Ð±Ð¸Ñ€Ð°ÐµÐ¼ ÑÐºÑ€Ð¾Ð»Ð» Ñ ÐºÐ¾Ð½Ñ‚ÐµÐ½Ñ‚Ð°, Ð¾Ð½ Ð±ÑƒÐ´ÐµÑ‚ Ñƒ Ð¼Ð¾Ð´Ð°Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ð¾ÐºÐ½Ð° */
        overflow: visible;
        margin: 10px auto; /* Ð”Ð¾Ð±Ð°Ð²Ð»ÑÐµÐ¼ Ð¾Ñ‚ÑÑ‚ÑƒÐ¿Ñ‹ Ð´Ð»Ñ ÑÐºÑ€Ð¾Ð»Ð»Ð° */
    }
    
    /* ÐÐ° Ð¼Ð¾Ð±Ð¸Ð»ÑŒÐ½Ñ‹Ñ… ÑƒÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð²Ð°Ñ… Ð¼Ð¾Ð´Ð°Ð»ÑŒÐ½Ð¾Ðµ Ð¾ÐºÐ½Ð¾ Ð´Ð¾Ð»Ð¶Ð½Ð¾ ÑÐºÑ€Ð¾Ð»Ð»Ð¸Ñ‚ÑŒÑÑ */
    .photo-editor-modal {
        position: fixed;
        overflow-y: auto !important; /* ÐŸÑ€Ð¸Ð½ÑƒÐ´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ Ð²ÐºÐ»ÑŽÑ‡Ð°ÐµÐ¼ ÑÐºÑ€Ð¾Ð»Ð» */
        overflow-x: hidden;
        -webkit-overflow-scrolling: touch; /* ÐŸÐ»Ð°Ð²Ð½Ñ‹Ð¹ ÑÐºÑ€Ð¾Ð»Ð» Ð½Ð° iOS */
        overscroll-behavior: contain; /* ÐŸÑ€ÐµÐ´Ð¾Ñ‚Ð²Ñ€Ð°Ñ‰Ð°ÐµÐ¼ bounce ÑÑ„Ñ„ÐµÐºÑ‚ Ð½Ð° iOS */
    }
    
    /* Ð˜ÑÐ¿Ñ€Ð°Ð²Ð»ÑÐµÐ¼ Ð²Ñ‹Ñ€Ð°Ð²Ð½Ð¸Ð²Ð°Ð½Ð¸Ðµ Ð´Ð»Ñ Ð¼Ð¾Ð±Ð¸Ð»ÑŒÐ½Ñ‹Ñ… */
    .photo-editor-modal.show {
        align-items: flex-start; /* Ð’Ñ‹Ñ€Ð°Ð²Ð½Ð¸Ð²Ð°ÐµÐ¼ Ð¿Ð¾ Ð²ÐµÑ€Ñ…Ñƒ */
        padding: 10px 0 20px 0; /* Ð”Ð¾Ð±Ð°Ð²Ð»ÑÐµÐ¼ Ð¾Ñ‚ÑÑ‚ÑƒÐ¿Ñ‹ ÑÐ²ÐµÑ€Ñ…Ñƒ Ð¸ ÑÐ½Ð¸Ð·Ñƒ Ð´Ð»Ñ ÑÐºÑ€Ð¾Ð»Ð»Ð° */
        justify-content: center;
    }

    .photo-editor-header {
        padding: 15px;
        border-radius: 0;
    }

    .photo-editor-title {
        font-size: 1.25rem;
    }

    .photo-editor-steps {
        padding: 10px 15px;
        gap: 10px;
    }

    .step-indicator {
        padding: 6px 12px;
        font-size: 0.875rem;
    }

    .photo-editor-body {
        flex-direction: column;
        padding: 15px;
        gap: 15px;
        /* Ð˜ÑÐ¿Ñ€Ð°Ð²Ð»ÑÐµÐ¼ Ð¿ÐµÑ€ÐµÐ¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ðµ */
        overflow: visible;
        height: auto;
        min-height: auto; /* Ð£Ð±Ð¸Ñ€Ð°ÐµÐ¼ Ñ„Ð¸ÐºÑÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð½ÑƒÑŽ Ð²Ñ‹ÑÐ¾Ñ‚Ñƒ */
        flex: 1 0 auto; /* ÐŸÐ¾Ð·Ð²Ð¾Ð»ÑÐµÐ¼ Ñ€Ð°ÑÑ‚Ð¸ Ð¿Ð¾ ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ð¼Ð¾Ð¼Ñƒ */
    }

    .editor-toolbar {
        width: 100%;
        padding: 15px;
        /* Ð£Ð±Ð¸Ñ€Ð°ÐµÐ¼ flex-shrink Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¿Ð°Ð½ÐµÐ»ÑŒ Ð¸Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚Ð¾Ð² Ð²ÑÐµÐ³Ð´Ð° Ð±Ñ‹Ð»Ð° Ð²Ð¸Ð´Ð½Ð° */
        flex-shrink: 0;
    }
    
    /* ÐžÐ±ÐµÑÐ¿ÐµÑ‡Ð¸Ð²Ð°ÐµÐ¼ Ð²Ð¸Ð´Ð¸Ð¼Ð¾ÑÑ‚ÑŒ ÐºÐ½Ð¾Ð¿Ð¾Ðº Ð½Ð° Ð¼Ð¾Ð±Ð¸Ð»ÑŒÐ½Ñ‹Ñ… */
    .action-buttons {
        margin-top: 15px;
        padding: 10px 0;
        background: white;
        border-radius: 8px;
        box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
        /* Ð£Ð±Ð¸Ñ€Ð°ÐµÐ¼ flex-shrink Ñ‡Ñ‚Ð¾Ð±Ñ‹ ÐºÐ½Ð¾Ð¿ÐºÐ¸ Ð²ÑÐµÐ³Ð´Ð° Ð±Ñ‹Ð»Ð¸ Ð²Ð¸Ð´Ð½Ñ‹ */
        flex-shrink: 0;
        order: 2;
        /* Ð”ÐµÐ»Ð°ÐµÐ¼ Ñ‚ÑƒÐ»Ð±Ð°Ñ€ Ð±Ð¾Ð»ÐµÐµ ÐºÐ¾Ð¼Ð¿Ð°ÐºÑ‚Ð½Ñ‹Ð¼ */
        flex-shrink: 0;
    }

    .editor-canvas-area {
        order: 1;
        min-height: 300px;
        /* ÐŸÐ¾Ð·Ð²Ð¾Ð»ÑÐµÐ¼ ÑÐºÑ€Ð¾Ð»Ð», ÐµÑÐ»Ð¸ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€ Ð±Ð¾Ð»ÑŒÑˆÐ¾Ð¹ */
        overflow: auto;
        flex: 1;
        /* Ð¦ÐµÐ½Ñ‚Ñ€Ð¸Ñ€ÑƒÐµÐ¼ ÐºÐ¾Ð½Ñ‚ÐµÐ½Ñ‚ */
        display: flex;
        align-items: center;
        justify-content: center;
    }

    /* Ð£Ð¿Ñ€Ð¾Ñ‰ÐµÐ½Ð½Ñ‹Ðµ Ð°Ð´Ð°Ð¿Ñ‚Ð¸Ð²Ð½Ñ‹Ðµ Ñ€Ð°Ð·Ð¼ÐµÑ€Ñ‹ Ð´Ð»Ñ Ð¼Ð¾Ð±Ð¸Ð»ÑŒÐ½Ñ‹Ñ… - Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼ zoom */
    .format-container.reel {
        /* Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼ Ð½Ð¾Ð²Ñ‹Ðµ Ð¿Ñ€Ð¾Ð¿Ð¾Ñ€Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ñ€Ð°Ð·Ð¼ÐµÑ€Ñ‹ */
        width: 405px !important;
        height: 720px !important;
        /* Ð‘Ð°Ð·Ð¾Ð²Ñ‹Ð¹ zoom Ð´Ð»Ñ Ð¿Ð»Ð°Ð½ÑˆÐµÑ‚Ð¾Ð² */
        zoom: 0.8; /* 405px â†’ 324px, 720px â†’ 576px */
        aspect-ratio: 9 / 16;
    }

    .format-container.desktop {
        width: 640px !important;
        height: 360px !important;
        /* Ð£Ð±Ð¸Ñ€Ð°ÐµÐ¼ max-width Ð¸ max-height Ð´Ð»Ñ ÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ð¾Ð¹ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ zoom */
        max-width: none !important;
        max-height: none !important;
        /* Ð‘Ð°Ð·Ð¾Ð²Ñ‹Ð¹ zoom Ð´Ð»Ñ Ð¿Ð»Ð°Ð½ÑˆÐµÑ‚Ð¾Ð² Ð¸ Ð¼Ð¾Ð±Ð¸Ð»ÑŒÐ½Ñ‹Ñ… */
        zoom: 0.5; /* 640px â†’ 320px, 360px â†’ 180px */
        aspect-ratio: 16 / 9;
    }

    .format-container.square {
        width: 480px !important;
        height: 480px !important;
        /* Ð£Ð±Ð¸Ñ€Ð°ÐµÐ¼ max-width Ð¸ max-height Ð´Ð»Ñ ÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ð¾Ð¹ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ zoom */
        max-width: none !important;
        max-height: none !important;
        /* Ð‘Ð°Ð·Ð¾Ð²Ñ‹Ð¹ zoom Ð´Ð»Ñ Ð¿Ð»Ð°Ð½ÑˆÐµÑ‚Ð¾Ð² Ð¸ Ð¼Ð¾Ð±Ð¸Ð»ÑŒÐ½Ñ‹Ñ… */
        zoom: 0.625; /* 480px â†’ 300px, 480px â†’ 300px */
        aspect-ratio: 1 / 1;
    }

    .resize-handle {
        width: 16px;
        height: 16px;
    }

    .editor-hint {
        bottom: 10px;
        font-size: 0.8rem;
        padding: 8px 12px;
    }
    
    /* Ð¡ÐºÑ€Ñ‹Ð²Ð°ÐµÐ¼ resize-handles Ð½Ð° Ð¼Ð¾Ð±Ð¸Ð»ÑŒÐ½Ñ‹Ñ… ÑƒÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð²Ð°Ñ… */
    .resize-handles {
        display: none !important;
    }
    
    /* Ð”Ð¾Ð±Ð°Ð²Ð»ÑÐµÐ¼ Ð²Ð¸Ð·ÑƒÐ°Ð»ÑŒÐ½ÑƒÑŽ Ð¿Ð¾Ð´ÑÐºÐ°Ð·ÐºÑƒ Ð´Ð»Ñ touch */
    .format-container:not(.has-image)::after {
         white-space: pre;
        text-align: center;
        color: #666;
        font-size: 12px;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        padding: 15px;
        line-height: 1.5;
        pointer-events: none;
    }
}

/* Ð”Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð° Ð´Ð»Ñ Ð¾Ñ‡ÐµÐ½ÑŒ Ð¼Ð°Ð»ÐµÐ½ÑŒÐºÐ¸Ñ… ÑÐºÑ€Ð°Ð½Ð¾Ð² */
@media (max-width: 480px) {
    .photo-editor-content {
        /* Ð£Ð±Ð¸Ñ€Ð°ÐµÐ¼ Ð»Ð¸ÑˆÐ½Ð¸Ðµ Ð¾Ñ‚ÑÑ‚ÑƒÐ¿Ñ‹ */
        width: calc(100vw - 10px);
        height: auto; /* Ð£Ð±Ð¸Ñ€Ð°ÐµÐ¼ Ñ„Ð¸ÐºÑÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð½ÑƒÑŽ Ð²Ñ‹ÑÐ¾Ñ‚Ñƒ */
        min-height: auto;
        margin: 5px auto;
    }
    
    .photo-editor-header {
        padding: 10px;
        /* Ð”ÐµÐ»Ð°ÐµÐ¼ Ð·Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº Ð±Ð¾Ð»ÐµÐµ ÐºÐ¾Ð¼Ð¿Ð°ÐºÑ‚Ð½Ñ‹Ð¼ */
    }
    
    .photo-editor-title {
        font-size: 1.1rem;
    }
    
    .photo-editor-body {
        padding: 10px;
        gap: 10px;
        /* Ð£Ð±Ð¸Ñ€Ð°ÐµÐ¼ Ñ„Ð¸ÐºÑÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð½ÑƒÑŽ Ð²Ñ‹ÑÐ¾Ñ‚Ñƒ Ð¸ Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÐµÐ¼ Ñ€Ð°ÑÑ‚Ð¸ Ð¿Ð¾ ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ð¼Ð¾Ð¼Ñƒ */
        min-height: auto;
        height: auto;
        flex: 1 0 auto;
    }
    
    .editor-toolbar {
        padding: 10px;
    }
    
    /* Ð¡Ð¿ÐµÑ†Ð¸Ð°Ð»ÑŒÐ½Ð¾ Ð´Ð»Ñ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚-ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð¾Ð² Ð½Ð° Ð¼Ð°Ð»ÐµÐ½ÑŒÐºÐ¸Ñ… ÑÐºÑ€Ð°Ð½Ð°Ñ… */
    .editor-canvas-area {
        min-height: 200px;
        padding: 5px;
    }
}

@media (max-width: 400px) {
    .photo-editor-body {
        padding: 5px;
        min-height: auto; /* Ð£Ð±Ð¸Ñ€Ð°ÐµÐ¼ Ñ„Ð¸ÐºÑÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð½ÑƒÑŽ Ð²Ñ‹ÑÐ¾Ñ‚Ñƒ */
        height: auto;
        flex: 1 0 auto;
    }
    
    .photo-editor-header {
        padding: 5px;
    }
    
    .photo-editor-title {
        font-size: 1rem;
    }
    
    /* Ð”Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð°Ñ Ð·Ð°Ñ‰Ð¸Ñ‚Ð° Ð¾Ñ‚ Ð¿ÐµÑ€ÐµÐ¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ */
    .format-container {
        max-width: calc(100vw - 20px) !important;
        max-height: calc(100vh - 200px) !important;
    }
}

/* Ð”Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ ÑÑ‚Ð¸Ð»Ð¸ Ð´Ð»Ñ touch ÑƒÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð² */
@media (pointer: coarse) {
    /* ÐÐ° touch ÑƒÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð²Ð°Ñ… ÑÐºÑ€Ñ‹Ð²Ð°ÐµÐ¼ resize-handles */
    .resize-handles {
        display: none !important;
    }
    
    /* Ð£Ð²ÐµÐ»Ð¸Ñ‡Ð¸Ð²Ð°ÐµÐ¼ Ð¾Ð±Ð»Ð°ÑÑ‚Ð¸ Ð½Ð°Ð¶Ð°Ñ‚Ð¸Ñ Ð´Ð»Ñ ÐºÐ½Ð¾Ð¿Ð¾Ðº */
    .action-button {
        min-height: 44px;
        touch-action: manipulation;
    }
    
    .file-input-button {
        min-height: 44px;
        touch-action: manipulation;
    }
}

/* ÐÐ½Ð¸Ð¼Ð°Ñ†Ð¸Ð¸ Ð´Ð»Ñ Ð¿Ð»Ð°Ð²Ð½Ñ‹Ñ… Ð¿ÐµÑ€ÐµÑ…Ð¾Ð´Ð¾Ð² */
.format-container {
    transition: border-color 0.3s, box-shadow 0.3s;
}

.action-button {
    transition: all 0.2s ease;
}

.step-indicator {
    transition: all 0.3s ease;
}

/* Ð”Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ð²Ð¸Ð·ÑƒÐ°Ð»ÑŒÐ½Ñ‹Ðµ ÑÑ„Ñ„ÐµÐºÑ‚Ñ‹ */
.photo-editor-modal {
    backdrop-filter: blur(5px);
}

.format-container::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(45deg, transparent 49%, rgba(0,0,0,0.1) 50%, transparent 51%);
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.3s;
}

.format-container:not(.has-image)::before {
    opacity: 1;
}

/* Ð¡Ñ‚Ð¸Ð»Ð¸ Ð´Ð»Ñ Ñ€ÐµÐ¶Ð¸Ð¼Ð° Ð²Ð»Ð°Ð´ÐµÐ»ÑŒÑ†Ð° */
.owner-mode .hero {
    position: relative;
}

/* ÐšÐ»Ð¸ÐºÐ°Ð±ÐµÐ»ÑŒÐ½Ñ‹Ð¹ Ñ„Ð¾Ð½ hero Ð´Ð»Ñ Ð²Ð»Ð°Ð´ÐµÐ»ÑŒÑ†Ð° */
.owner-mode .hero:hover::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(42, 88, 133, 0.1);
    backdrop-filter: brightness(0.9);
    transition: all 0.3s ease;
    z-index: 1;
}

.owner-mode .hero::after {
    content: 'ðŸ“· ÐÐ°Ð¶Ð¼Ð¸Ñ‚Ðµ, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ñ„Ð¾Ð½';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: rgba(42, 88, 133, 0.9);
    color: white;
    padding: 8px 16px;
    border-radius: 20px;
    font-size: 14px;
    opacity: 0;
    transition: all 0.3s ease;
    z-index: 2;
    pointer-events: none;
}

.owner-mode .hero:hover::after {
    opacity: 1;
}

/* ÐšÐ»Ð¸ÐºÐ°Ð±ÐµÐ»ÑŒÐ½Ð°Ñ Ð°Ð²Ð°Ñ‚Ð°Ñ€ÐºÐ° Ð´Ð»Ñ Ð²Ð»Ð°Ð´ÐµÐ»ÑŒÑ†Ð° */
.hero-logo {
    position: relative;
}

.owner-mode .hero-logo:hover {
    transform: scale(1.05);
    transition: all 0.3s ease;
}

.owner-mode .hero-logo::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(42, 88, 133, 0.7);
    border-radius: 50%;
    opacity: 0;
    transition: all 0.3s ease;
    z-index: 1;
}

.owner-mode .hero-logo:hover::before {
    opacity: 1;
}

.owner-mode .hero-logo::after {
    content: 'ðŸ“·';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: white;
    font-size: 24px;
    opacity: 0;
    transition: all 0.3s ease;
    z-index: 2;
    pointer-events: none;
}

.owner-mode .hero-logo:hover::after {
    opacity: 1;
}

/* ÐÐ´Ð°Ð¿Ñ‚Ð¸Ð²Ð½Ð¾ÑÑ‚ÑŒ Ð´Ð»Ñ Ð¼Ð¾Ð±Ð¸Ð»ÑŒÐ½Ñ‹Ñ… ÑƒÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð² */
@media (max-width: 768px) {
    .owner-mode .hero::after {
        font-size: 12px;
        padding: 6px 12px;
    }
    
    .owner-mode .hero-logo::after {
        font-size: 20px;
    }
    
    .owner-mode .hero-logo:hover {
        transform: scale(1.03);
    }
}
.action-buttons label {
    width: 33%;
}

/* Ð£Ð»ÑƒÑ‡ÑˆÐµÐ½Ð¸Ñ ÑÐºÑ€Ð¾Ð»Ð»Ð° Ð´Ð»Ñ Ð¼Ð¾Ð´Ð°Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ð¾ÐºÐ½Ð° */
.photo-editor-modal {
    /* Ð’ÐºÐ»ÑŽÑ‡Ð°ÐµÐ¼ Ð°Ð¿Ð¿Ð°Ñ€Ð°Ñ‚Ð½Ð¾Ðµ ÑƒÑÐºÐ¾Ñ€ÐµÐ½Ð¸Ðµ Ð´Ð»Ñ Ð¿Ð»Ð°Ð²Ð½Ð¾ÑÑ‚Ð¸ */
    transform: translateZ(0);
    will-change: scroll-position;
}

/* Ð£Ð»ÑƒÑ‡ÑˆÐµÐ½Ð¸Ñ Ð´Ð»Ñ iOS Safari */
@supports (-webkit-touch-callout: none) {
    .photo-editor-modal {
        /* ÐŸÑ€Ð¸Ð½ÑƒÐ´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾Ðµ Ð²ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ momentum scrolling Ð½Ð° iOS */
        -webkit-overflow-scrolling: touch;
        /* ÐŸÑ€ÐµÐ´Ð¾Ñ‚Ð²Ñ€Ð°Ñ‰Ð°ÐµÐ¼ rubber band ÑÑ„Ñ„ÐµÐºÑ‚ */
        overscroll-behavior-y: contain;
    }
}

/* Ð”Ð»Ñ Ð¾Ñ‡ÐµÐ½ÑŒ Ð¼Ð°Ð»ÐµÐ½ÑŒÐºÐ¸Ñ… ÑÐºÑ€Ð°Ð½Ð¾Ð² */
@media (max-width: 480px) {
    .photo-editor-modal.show {
        padding: 0; /* Ð”Ð¾Ð±Ð°Ð²Ð»ÑÐµÐ¼ Ð¾Ñ‚ÑÑ‚ÑƒÐ¿Ñ‹ Ð´Ð»Ñ ÑÐºÑ€Ð¾Ð»Ð»Ð° */
    }
    
    .photo-editor-content {
        width: calc(100vw - 0px);
        min-height: auto; /* Ð£Ð±Ð¸Ñ€Ð°ÐµÐ¼ Ñ„Ð¸ÐºÑÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð½ÑƒÑŽ Ð²Ñ‹ÑÐ¾Ñ‚Ñƒ */
        margin: 0 auto;
        border-radius: 4px;
    }
}

/* Ð”Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð° Ð´Ð»Ñ Ð¾Ð±ÐµÑÐ¿ÐµÑ‡ÐµÐ½Ð¸Ñ ÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ð¾Ð³Ð¾ ÑÐºÑ€Ð¾Ð»Ð»Ð° Ð½Ð° Ð¼Ð¾Ð±Ð¸Ð»ÑŒÐ½Ñ‹Ñ… */
@media (max-width: 768px) and (orientation: portrait) {
    /* Ð¡Ð¿ÐµÑ†Ð¸Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð° Ð´Ð»Ñ Ð¿Ð¾Ñ€Ñ‚Ñ€ÐµÑ‚Ð½Ð¾Ð¹ Ð¾Ñ€Ð¸ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ð¸ */
    .photo-editor-modal {
        height: 100vh !important;
        height: 100dvh !important; /* Ð”Ð»Ñ Ð½Ð¾Ð²Ñ‹Ñ… Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€Ð¾Ð² Ñ Ð´Ð¸Ð½Ð°Ð¼Ð¸Ñ‡ÐµÑÐºÐ¾Ð¹ Ð²Ñ‹ÑÐ¾Ñ‚Ð¾Ð¹ viewport */
        overflow-y: auto !important;
        overscroll-behavior: none;
    }
    
    .photo-editor-content {
        min-height: fit-content !important;
        height: 100%!important;
        max-height: none !important;
        display: flex;
        flex-direction: column;
    }
    
    .photo-editor-body {
        flex: 1 1 auto;
        min-height: 0;
        display: flex;
        flex-direction: column;
    }
    
    /* Ð“Ð°Ñ€Ð°Ð½Ñ‚Ð¸Ñ€ÑƒÐµÐ¼ Ð²Ð¸Ð´Ð¸Ð¼Ð¾ÑÑ‚ÑŒ ÐºÐ½Ð¾Ð¿Ð¾Ðº */
    .editor-toolbar {
        flex-shrink: 0;
        order: 2; /* Ð Ð°Ð·Ð¼ÐµÑ‰Ð°ÐµÐ¼ Ð¿Ð°Ð½ÐµÐ»ÑŒ Ð¸Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚Ð¾Ð² Ð²Ð½Ð¸Ð·Ñƒ */
    }
    
    .editor-canvas-area {
        flex: 1 1 auto;
        order: 1; /* Ð Ð°Ð·Ð¼ÐµÑ‰Ð°ÐµÐ¼ Ð¾Ð±Ð»Ð°ÑÑ‚ÑŒ Ñ€ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ ÑÐ²ÐµÑ€Ñ…Ñƒ */
        min-height: 200px;
    }
}

/* ÐŸÑ€Ð°Ð²Ð¸Ð»Ð° Ð´Ð»Ñ ÑƒÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð² Ñ Ð¾Ñ‡ÐµÐ½ÑŒ Ð¼Ð°Ð»ÐµÐ½ÑŒÐºÐ¾Ð¹ Ð²Ñ‹ÑÐ¾Ñ‚Ð¾Ð¹ ÑÐºÑ€Ð°Ð½Ð° */
@media (max-height: 600px) {
    .photo-editor-modal {
        overflow-y: auto !important;
    }
    
    .photo-editor-content {
        min-height: auto !important;
        height: auto !important;
    }
    
    .photo-editor-body {
        min-height: auto !important;
        padding: 10px !important;
    }
}