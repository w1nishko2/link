(function(){let e=null,i=null,d=!1;function o(){if(!d){if(e=document.getElementById("mobileAdminSidebar"),i=document.querySelector(".mobile-sidebar-overlay"),!e||!i){console.warn("Mobile navigation elements not found");return}l(),f(),d=!0,console.log("Mobile navigation initialized")}}function a(){if(!e||!i){console.warn("Mobile navigation not initialized");return}e.classList.contains("show")?t():s()}function s(){if(!e||!i)return;e.classList.add("show"),i.classList.add("show"),document.body.classList.add("mobile-sidebar-open"),document.body.style.overflow="hidden";const n=e.querySelector(".mobile-menu-btn");n&&setTimeout(()=>n.focus(),100)}function t(){!e||!i||(e.classList.remove("show"),i.classList.remove("show"),document.body.classList.remove("mobile-sidebar-open"),document.body.style.overflow="")}function l(){window.addEventListener("resize",c),document.addEventListener("keydown",r),u(),e.addEventListener("click",function(n){n.stopPropagation()})}function c(){window.innerWidth>=768&&t()}function r(n){n.key==="Escape"&&e&&e.classList.contains("show")&&t()}function u(){if(!e)return;e.querySelectorAll(".nav-link").forEach(b=>{b.addEventListener("click",function(){window.innerWidth<768&&setTimeout(t,150)})})}function f(){if(/iPad|iPhone|iPod/.test(navigator.userAgent)){const n=document.querySelector("meta[name=viewport]");n&&n.setAttribute("content","width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no")}"ontouchstart"in window&&document.body.addEventListener("touchstart",function(){},{passive:!0})}function w(){return e&&e.classList.contains("show")}window.MobileNavigation={init:o,toggle:a,open:s,close:t,isOpen:w},window.toggleMobileSidebar=a,window.closeMobileSidebar=t,window.openMobileSidebar=s,document.readyState==="loading"?document.addEventListener("DOMContentLoaded",o):o(),typeof window.addEventListener=="function"&&window.addEventListener("load",function(){setTimeout(o,100)})})();
